#standard library
map = \f t
->begin(h=\n
        ->if(eq(n len(t))
             n
             begin(f(take(t n)) h(+(n 1))))
        h(0))

foldl = \f i t
->begin(h=\n a->
         if(eq(n len(t))
            a
            h(+(n 1) f(a take(t n))))
         h(0 i))

foldr = \f i t
->begin(h=\n a->
        if(lt(n 0)
           a
           h(-(n 1) f(take(t n) a)))
        h(-(len(t) 1) i))

range = \n
 ->begin(h=\c t->
         if(eq(c n)
            t
            h(+(c 1) +(t <c>)))
         h(0 <>))

#test
t = < 1 2 3 4 >
map(\x->print(+(x 1)) t)
print("foldl:"foldl(- 15 t))
print("foldr:"foldr(- 15 t))
print("range(5):"range(5))